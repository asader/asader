import"./client.b3861490.js";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function r(r){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?e(Object(n),!0).forEach((function(e){t(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))}))}return r}function i(){var t=localStorage.getItem("productsById")||"{}";return JSON.parse(t)}function n(t,e){var n=i(),a=n[t.id]||r(r({},t),{},{quantity:0});n[t.id]=r(r({},a),{},{quantity:a.quantity+1}),localStorage.setItem("productsById",JSON.stringify(n)),e.update((function(e){e[t.id]=e[t.id]||{quantity:0};var r=e[t.id];return r.quantity+=1,r.price=t.price*r.quantity,r.salePrice=t.salePrice*r.quantity,e}))}function a(t,e){var r=i();delete r[t.id],localStorage.setItem("productsById",JSON.stringify(r)),e.update((function(e){return e[t.id]=e[t.id]||{},delete e[t.id],e}))}function c(t,e){var n=i(),a=n[t.id]||r(r({},t),{},{quantity:0});1!==a.quantity&&(n[t.id]=r(r({},a),{},{quantity:a.quantity-1}),localStorage.setItem("productsById",JSON.stringify(n)),e.update((function(e){var r=e[t.id];return r.quantity-=1,r.price=t.price*r.quantity,r.salePrice=t.salePrice*r.quantity,e})))}export{c as d,i as g,n as i,a as r};
